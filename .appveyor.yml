environment:
  matrix:
    - job_name: Windows
#      QTDIR: C:\Qt\5.10.1\msvc2017_64
      APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2019

    - job_name: Linux
      APPVEYOR_BUILD_WORKER_IMAGE: Ubuntu

    - job_name: OSX
      APPVEYOR_BUILD_WORKER_IMAGE: macOS

configuration:
  - Debug
  - Release
  - Retail

clone_script:
  - cmd: git clone -q --recursive --branch=master https://github.com/milostosic/rapp.git ..\rapp

install:
  - git clone --depth 1 https://github.com/milostosic/build ..\build
  - git clone --depth 1 https://github.com/milostosic/rbase ..\rbase
  - git clone --depth 1 https://github.com/bkaradzic/bx.git   ..\bx
  - git clone --depth 1 https://github.com/bkaradzic/bimg.git ..\bimg
  - git clone --depth 1 https://github.com/bkaradzic/bgfx.git ..\bgfx
  - git clone --depth 1 https://github.com/dougbinks/enkiTS ..\enkiTS
  - cmd: ..\build\tools\bin\windows\genie --file=genie\genie.lua %TOOLSET%
  - sh:  ../build/tools/bin/linux/genie --file=genie/genie.lua -gcc=linux-gcc-9

matrix:
  fast_finish: true

shallow_clone: true

for:
  
# ======================================
#      Windows
# ======================================
-
  matrix:
    only:
    - job_name: Windows

  init:
  - echo "Init for Windows"

  #build_script:
  #- echo "Build for Windows"

  project: ../.build/windows/$(TOOLSET)/rapp/projects/rapp.sln
  
  test: off

# ======================================
#      Linux
# ======================================
-
  matrix:
    only:
    - job_name: Linux

  init:
  - echo "Init for Linux"

  #build_script:
  #- echo "Build for Linux"

  project: ../.build/linux/linux/gcc-9/rapp/projects/rapp.make

  test: off

# ======================================
#      macOS
# ======================================
-
  matrix:
    only:
    - job_name: OSX

  init:
  - echo "Init for OSX"

#  build_script:
#  - echo "Build for OSX"

  project: ../.build/osx/clang/rapp/projects/rapp.make

  test: off
